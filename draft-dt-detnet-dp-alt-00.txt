



DetNet                                                  J. Korhonen, Ed.
Internet-Draft                                                  Broadcom
Intended status: Informational                                 J. Farkas
Expires: August 6, 2016                                         Ericsson
                                                                 N. Finn
                                                                   Cisco
                                                                O. Marce
                                                         Nokia Bell Labs
                                                               G. Mirsky
                                                                Ericsson
                                                              P. Thubert
                                                                   Cisco
                                                                Z. Zhuan
                                                                  Huawei
                                                        February 3, 2016


          DetNet Data Plane Protocol and Solution Alternatives
                       draft-dt-detnet-dp-alt-00

Abstract

   This document identifies existing IP and MPLS, and layer-2
   encapsulations that run over IP and/or MPLS data plane technologies
   that could be considered as the base line solution alternatives for
   deterministic networking data plane definition.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on August 6, 2016.








Korhonen, et al.         Expires August 6, 2016                 [Page 1]

Internet-Draft       DetNet data plane alternatives        February 2016


Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3
   2.  Criteria for data plane solution alternatives . . . . . . . .   3
     2.1.  Encapsulation and overhead  . . . . . . . . . . . . . . .   3
     2.2.  Stream identification . . . . . . . . . . . . . . . . . .   4
     2.3.  Packet sequencing . . . . . . . . . . . . . . . . . . . .   4
     2.4.  Explicit routes . . . . . . . . . . . . . . . . . . . . .   4
     2.5.  Packet replication and deletion . . . . . . . . . . . . .   4
     2.6.  Operations and management . . . . . . . . . . . . . . . .   5
     2.7.  Time synchronization  . . . . . . . . . . . . . . . . . .   5
     2.8.  Class and quality of service capabilities . . . . . . . .   5
     2.9.  Packet traceability . . . . . . . . . . . . . . . . . . .   5
   3.  Data plane solution alternatives  . . . . . . . . . . . . . .   6
     3.1.  Native IPv4 transport . . . . . . . . . . . . . . . . . .   6
     3.2.  Native IPv6 transport . . . . . . . . . . . . . . . . . .   6
     3.3.  Layer-2 tunneling over IP . . . . . . . . . . . . . . . .   6
       3.3.1.  GRE . . . . . . . . . . . . . . . . . . . . . . . . .   6
       3.3.2.  L2TP  . . . . . . . . . . . . . . . . . . . . . . . .   7
     3.4.  IP/MPLS . . . . . . . . . . . . . . . . . . . . . . . . .   7
     3.5.  PseudoWires . . . . . . . . . . . . . . . . . . . . . . .   7
     3.6.  Bit Indexed Explicit Replication  . . . . . . . . . . . .   7
   4.  Security considerations . . . . . . . . . . . . . . . . . . .   7
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   7
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   7
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   7
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   7
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   7
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  10







Korhonen, et al.         Expires August 6, 2016                 [Page 2]

Internet-Draft       DetNet data plane alternatives        February 2016


1.  Introduction

   Deterministic networking (DetNet) [I-D.finn-detnet-problem-statement]
   provides a capability to carry unicast or multicast data streams for
   real-time applications with extremely low data loss rates and known
   upper bound maximum latency [I-D.finn-detnet-architecture].  The
   deterministic networking Quality of Service (QoS) is expressed as 1)
   the minimum and maximum end-to-end latency from sender (talker) to
   receiver (listener), 2) probability of loss of a packet, 3)
   probability of loss of a packet in the event of the failure of a
   relay system or link.  Only the worst-case values for the mentioned
   parameters are concerned.

   There are three techniques to achieve the QoS required by
   deterministic networks:

   o  zero congestion loss,
   o  explicit routes,
   o  packet replications and deletion.

   This document identifies existing IP and Multiprotocol Label
   Switching Architecture (MPLS) [RFC3031], and layer-2 encapsulations
   that run over IP and/or MPLS data plane technologies that could be
   considered as the base line solution alternatives for deterministic
   networking data plane definition.  The full scope of the
   deterministic networking data plane solution is considered including,
   as appropriate, quality of service (QoS), operations and management
   (O&M), and time synchronization.

2.  Criteria for data plane solution alternatives

   Each deterministic networking data plane solution alternative is
   described and evaluated using the criteria describe in this section.
   The used criteria enumerated in this section is selected so that it
   highlights the existence or lack of features that are expected or
   seen important to a solution alternative for the data plane solution.

2.1.  Encapsulation and overhead

   In several cases a deterministic flow/strem has to be encapsulated
   inside other protocols, for example, when transporting a layer-2
   Ethernet frame over an IP transport network.  In some cases a former
   tunneling like encapsulation can be avoided by underlying transport
   protocol translation, for example, translating layer-2 Ethernet frame
   including addressing and stream identification into native IP
   traffic.  Last it is possible that talkers and listeners handle
   deterministic flows natively in a layer-3.  This criteria concerns
   what is the encapsulation method the solution alternative support:



Korhonen, et al.         Expires August 6, 2016                 [Page 3]

Internet-Draft       DetNet data plane alternatives        February 2016


   tunneling like encapsulation, protocol translation or native layer-3
   transport.  In addition to the encapsulation mechanism this criteria
   is also concerned of the processing and specifically the encapsulate
   header overhead.

2.2.  Stream identification

   The solution alternative has to provide means to identify specific
   deterministic flows / streams.  The stream identification can, for
   example, be explicit field in the data plane encapsulation header or
   implicitly encoded into the addressing scheme of the used data plane
   protocol.  This criteria concerns the availability and details of
   deterministic flow / stream identification the data plane protocol
   alternative has.

2.3.  Packet sequencing

   The solution alternative has to provide means for end systems to
   number packets sequentially and transport that sequencing information
   along with the sent packets.  In addition to possible reordering
   packets one of the important uses for sequencing is detecting
   duplicates.  In a case of intentional packet duplication a
   combination of stream identification and packet sequencing allows for
   detecting and discarding duplicates at the receiver (see Section 2.5
   for more details).  This criteria concerns the availability and
   details of the packet sequencing capabilities the data plane protocol
   alternative has.

2.4.  Explicit routes

   The solution alternative has to provide a mechanism(s) for
   establishing explicit routes that all packets belonging to a
   deterministic flow / stream will follow.  The explicit route can be
   seen as a form of source routing or a pre-reserved path e.g., using
   some network management procedure.  It should be noted that the
   explicit route does not need to be detailed to a level where every
   possible intermediate node along the path is part of the named
   explicit route.  The IEEE 802.1Qca [IEEE8021Qca] specification
   defines how to do explicit path control in a bridged network and its
   IETF counter part is defined in [I-D.ietf-isis-pcr].  This criteria
   concerns the available mechanisms for explicit routes for the data
   plane protocol alternative.

2.5.  Packet replication and deletion

   End systems and/or relay systems can number packets sequentially,
   replicate them, and later eliminate all but one of the replicas, at
   multiple points in the network in order to ensure that one (or more)



Korhonen, et al.         Expires August 6, 2016                 [Page 4]

Internet-Draft       DetNet data plane alternatives        February 2016


   equipment failure events still leave at least one path intact for a
   deterministic networking stream.  The IEEE 802.1CB [IEEE8021CB]
   specification defines packet sequence numbering, packet replication,
   and duplicate packet identification and deletion for IEEE 802 family
   of protocols.  The deterministic networking data plane solution
   alternative at layer-3 has provide equivalent functionality.  This
   criteria concerns the available mechanisms for packet replication and
   duplicate deletion the data plane protocol alternative has.

2.6.  Operations and management

   The solution alternative should demonstrate an availability of
   appropriate standardized O&M tools or control/management plane that
   can be extended for deterministic networking purposes with a
   reasonable effort, when required.  The O&M tools do not necessarily
   need to be specific to the data plane protocol as it could be the
   case, for example, with MPLS-based data planes.

2.7.  Time synchronization

   The solution alternative may benefit from having a sense of time or
   at least that the associated O&M protocols had time synchronization
   properties.  One concrete example is Realtime Transport Protocol
   (RTP) [RFC3550], which carries timestamps in the protocol header in
   addition to sequence numbers, has a well specified algorithms, for
   example, for jitter calculations, and also has an associated control
   channel, the Realtime Transport Control Protocol (RTCP).  Another
   example could be residence time measurement support for MPLS network
   domain using Generic Associated Channel (G-ACh) extensions.  This
   criteria concerns the available mechanisms for time synchronization
   in the context of the data plane protocol alternative.

2.8.  Class and quality of service capabilities

   Some protocols or encapsulation headers that may be viable as a
   solution alternative for the deterministic networking data plane may
   also have a capability to distinguishing between different classes of
   service (CoS) and/or the quality of service (QoS) for the payload
   flows / streams they transport.  Furthermore, this Criteria concerns
   the availability and mechanism for the CoS and QoS signaling as a
   part of the data plane protocol alternative.

2.9.  Packet traceability

   For the network management and specifically for tracing down
   implementation or network configuration errors any means to find out
   whether a packet is a replica, and which node performed replication
   can be very useful.  This criteria concerns the availability of



Korhonen, et al.         Expires August 6, 2016                 [Page 5]

Internet-Draft       DetNet data plane alternatives        February 2016


   solutions for tracing packets in the context of data plane protocol
   alternative.

3.  Data plane solution alternatives

3.1.  Native IPv4 transport

3.2.  Native IPv6 transport

   This section investigates the application of native IPv6 [RFC2460] as
   the data plane for DetNet along the criteria collected in Section 2.

   Deterministic flows are assumed to be handled natively at layer-3 by
   IPv6 at the first place.  The fixed header of an IPv6 packet is 40
   bytes [RFC2460].  The overhead is bigger if any extension header is
   used.  However, the exact overhead (Section 2.1) depends on what
   solution is actually used to provide DetNet features, e.g., explicit
   routing or seamless redundancy if any of these is applied.

   The 20-bit flow label field of the fixed IPv6 header is suitable to
   identify deterministic flows / streams (Section 2.2).  Guidance on
   the use of the flow label is provided by [RFC6437].

   Packet replication and elimination of duplicates (Section 2.5) is the
   core of seamless redundancy.  The implementation of this
   functionality largely depends on the packet sequencing (Section 2.3)
   approach used.  Correspondingly, the traceability (Section 2.9) of
   replicated packets also depends on the sequencing mechanism.
   Currently, there is no support for packet sequencing in native IPv6.
   That is, there is no header field whose application would be
   straightforward as a field for packet sequencing.

   There is an initiative to equip IPv6 with explicit routing
   (Section 2.4) capabilities.  The idea is to apply Segment Routing
   (SR) [I-D.ietf-spring-segment-routing] to IPv6 via the addition of a
   new type of routing extension header
   [I-D.ietf-6man-segment-routing-header].

   IPv6 supports QoS (Section 2.8).  The traffic class field of the
   fixed IPv6 header is designed for this purpose.

3.3.  Layer-2 tunneling over IP

3.3.1.  GRE







Korhonen, et al.         Expires August 6, 2016                 [Page 6]

Internet-Draft       DetNet data plane alternatives        February 2016


3.3.2.  L2TP

3.4.  IP/MPLS

3.5.  PseudoWires

3.6.  Bit Indexed Explicit Replication

4.  Security considerations

   TBD.  Analysis per solution alternative.

5.  IANA Considerations

   This document has no IANA considerations.

6.  Acknowledgements

   The author(s) ACK and NACK.

7.  References

7.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

7.2.  Informative References

   [I-D.finn-detnet-architecture]
              Finn, N., Thubert, P., and M. Teener, "Deterministic
              Networking Architecture", draft-finn-detnet-
              architecture-01 (work in progress), March 2015.

   [I-D.finn-detnet-problem-statement]
              Finn, N. and P. Thubert, "Deterministic Networking Problem
              Statement", draft-finn-detnet-problem-statement-03 (work
              in progress), June 2015.

   [I-D.ietf-6man-segment-routing-header]
              Previdi, S., Filsfils, C., Field, B., Leung, I., Linkova,
              J., Kosugi, T., Vyncke, E., and D. Lebrun, "IPv6 Segment
              Routing Header (SRH)", draft-ietf-6man-segment-routing-
              header-00 (work in progress), December 2015.





Korhonen, et al.         Expires August 6, 2016                 [Page 7]

Internet-Draft       DetNet data plane alternatives        February 2016


   [I-D.ietf-isis-pcr]
              Farkas, J., Bragg, N., Unbehagen, P., Parsons, G.,
              Ashwood-Smith, P., and C. Bowers, "IS-IS Path Computation
              and Reservation", draft-ietf-isis-pcr-04 (work in
              progress), December 2015.

   [I-D.ietf-spring-segment-routing]
              Filsfils, C., Previdi, S., Decraene, B., Litkowski, S.,
              and r. rjs@rob.sh, "Segment Routing Architecture", draft-
              ietf-spring-segment-routing-07 (work in progress),
              December 2015.

   [IEEE8021CB]
              Finn, N., "Draft Standard for Local and metropolitan area
              networks - Seamless Redundancy", IEEE P802.1CB
              /D2.1 P802.1CB, December 2015,
              <http://www.ieee802.org/1/files/private/cb-drafts/
              d2/802-1CB-d2-1.pdf>.

   [IEEE8021Qca]
              IEEE 802.1, "IEEE 802.1Qca Bridges and Bridged Networks -
              Amendment: Path Control and Reservation", IEEE P802.1Qca/
              D2.1 P802.1Qca, June 2015,
              <http://www.ieee802.org/1/files/private/ca-drafts/
              d2/802-1Qca-d2-1.pdf>.

   [RFC2460]  Deering, S. and R. Hinden, "Internet Protocol, Version 6
              (IPv6) Specification", RFC 2460, DOI 10.17487/RFC2460,
              December 1998, <http://www.rfc-editor.org/info/rfc2460>.

   [RFC3031]  Rosen, E., Viswanathan, A., and R. Callon, "Multiprotocol
              Label Switching Architecture", RFC 3031,
              DOI 10.17487/RFC3031, January 2001,
              <http://www.rfc-editor.org/info/rfc3031>.

   [RFC3550]  Schulzrinne, H., Casner, S., Frederick, R., and V.
              Jacobson, "RTP: A Transport Protocol for Real-Time
              Applications", STD 64, RFC 3550, DOI 10.17487/RFC3550,
              July 2003, <http://www.rfc-editor.org/info/rfc3550>.

   [RFC3985]  Bryant, S., Ed. and P. Pate, Ed., "Pseudo Wire Emulation
              Edge-to-Edge (PWE3) Architecture", RFC 3985,
              DOI 10.17487/RFC3985, March 2005,
              <http://www.rfc-editor.org/info/rfc3985>.







Korhonen, et al.         Expires August 6, 2016                 [Page 8]

Internet-Draft       DetNet data plane alternatives        February 2016


   [RFC4446]  Martini, L., "IANA Allocations for Pseudowire Edge to Edge
              Emulation (PWE3)", BCP 116, RFC 4446,
              DOI 10.17487/RFC4446, April 2006,
              <http://www.rfc-editor.org/info/rfc4446>.

   [RFC4447]  Martini, L., Ed., Rosen, E., El-Aawar, N., Smith, T., and
              G. Heron, "Pseudowire Setup and Maintenance Using the
              Label Distribution Protocol (LDP)", RFC 4447,
              DOI 10.17487/RFC4447, April 2006,
              <http://www.rfc-editor.org/info/rfc4447>.

   [RFC4448]  Martini, L., Ed., Rosen, E., El-Aawar, N., and G. Heron,
              "Encapsulation Methods for Transport of Ethernet over MPLS
              Networks", RFC 4448, DOI 10.17487/RFC4448, April 2006,
              <http://www.rfc-editor.org/info/rfc4448>.

   [RFC6073]  Martini, L., Metz, C., Nadeau, T., Bocci, M., and M.
              Aissaoui, "Segmented Pseudowire", RFC 6073,
              DOI 10.17487/RFC6073, January 2011,
              <http://www.rfc-editor.org/info/rfc6073>.

   [RFC6437]  Amante, S., Carpenter, B., Jiang, S., and J. Rajahalme,
              "IPv6 Flow Label Specification", RFC 6437,
              DOI 10.17487/RFC6437, November 2011,
              <http://www.rfc-editor.org/info/rfc6437>.

   [RFC6658]  Bryant, S., Ed., Martini, L., Swallow, G., and A. Malis,
              "Packet Pseudowire Encapsulation over an MPLS PSN",
              RFC 6658, DOI 10.17487/RFC6658, July 2012,
              <http://www.rfc-editor.org/info/rfc6658>.

   [RFC6718]  Muley, P., Aissaoui, M., and M. Bocci, "Pseudowire
              Redundancy", RFC 6718, DOI 10.17487/RFC6718, August 2012,
              <http://www.rfc-editor.org/info/rfc6718>.

   [RFC7167]  Frost, D., Bryant, S., Bocci, M., and L. Berger, "A
              Framework for Point-to-Multipoint MPLS in Transport
              Networks", RFC 7167, DOI 10.17487/RFC7167, April 2014,
              <http://www.rfc-editor.org/info/rfc7167>.

   [TSNTG]    IEEE Standards Association, "IEEE 802.1 Time-Sensitive
              Networks Task Group", 2013,
              <http://www.IEEE802.org/1/pages/avbridges.html>.








Korhonen, et al.         Expires August 6, 2016                 [Page 9]

Internet-Draft       DetNet data plane alternatives        February 2016


Authors' Addresses

   Jouni Korhonen (editor)
   Broadcom
   3151 Zanker Road
   San Jose, CA  95134
   USA

   Email: jouni.nospam@gmail.com


   Janos Farkas
   Ericsson
   Konyves Kalman krt. 11/B
   Budapest  1097
   Hungary

   Email: janos.farkas@ericsson.com


   Norman Finn
   Cisco

   Email: nfinn@cisco.com


   Olivier Marce
   Nokia Bell Labs

   Email: Olivier.Marce@nokia.com


   Gregory Mirsky
   Ericsson

   Email: gregory.mirsky@ericsson.com


   Pascal Thubert
   Cisco

   Email: pthubert@cisco.com


   Zhuangyan Zhuang
   Huawei

   Email: zhuangyan.zhuang@huawei.com



Korhonen, et al.         Expires August 6, 2016                [Page 10]
